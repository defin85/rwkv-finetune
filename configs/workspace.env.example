RWKV_PEFT_REPO_URL=https://github.com/JL-er/RWKV-PEFT.git
RWKV_PEFT_REF=main
RWKV_PEFT_DIR=/home/egor/code/rwkv-finetune/third_party/RWKV-PEFT

VENV_DIR=/home/egor/code/rwkv-finetune/.venv
PYTHON_BIN=python3
CUDA_HOME=/opt/cuda

TORCH_INDEX_URL=https://download.pytorch.org/whl/cu124
INSTALL_DEEPSPEED=1
INSTALL_BITSANDBYTES=1

# Default model settings (0.4b profile + checkpoint path).
TRAIN_MODEL_CONFIG=/home/egor/code/rwkv-finetune/configs/model/rwkv7-0.4b.env
ALBATROSS_MODEL=/home/egor/code/rwkv-finetune/models/base/rwkv7-g1-0.4b-20250324-ctx4096.pth
RWKV_AIRFLOW_LOAD_MODEL=/home/egor/code/rwkv-finetune/models/base/rwkv7-g1-0.4b-20250324-ctx4096.pth
RWKV_AIRFLOW_INPUT_JSONL=/home/egor/code/rwkv-finetune/data/raw/identity_hotfix_ui_train.jsonl
RWKV_AIRFLOW_TRAIN_WRAPPER=/home/egor/code/rwkv-finetune/scripts/train_qlora_nf4_quick.sh

# Primary orchestration profile.
# Supported values: airflow, mlops-lite
# In current architecture, airflow is the only valid primary profile.
ORCHESTRATION_PROFILE=airflow

# Airflow runtime layout.
AIRFLOW_VERSION=2.10.5
AIRFLOW_HOME=/home/egor/code/rwkv-finetune/orchestration/airflow/runtime
AIRFLOW_DAGS_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/dags
AIRFLOW_PLUGINS_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/plugins
AIRFLOW_DB_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/runtime/db
AIRFLOW_LOG_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/runtime/logs
AIRFLOW_PID_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/runtime/pids
AIRFLOW_AUDIT_DIR=/home/egor/code/rwkv-finetune/orchestration/airflow/runtime/audit
AIRFLOW_WEBSERVER_PORT=18080
AIRFLOW__WEBSERVER__SHOW_TRIGGER_FORM_IF_NO_PARAMS=True
AIRFLOW_DAG_ID=rwkv_train_lifecycle
AIRFLOW_SUPPORTED_PYTHON_MIN=3.9
AIRFLOW_SUPPORTED_PYTHON_MAX=3.12

# GPU pool for serialized train/eval.
AIRFLOW_GPU_POOL_NAME=rwkv_gpu_pool
AIRFLOW_GPU_POOL_SLOTS=1

# Optional Airflow admin bootstrap account.
# Set AIRFLOW_CREATE_ADMIN=1 only when AIRFLOW_ADMIN_PASSWORD is a strong unique value.
AIRFLOW_CREATE_ADMIN=0
AIRFLOW_ADMIN_USERNAME=airflow_admin
AIRFLOW_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD
AIRFLOW_ADMIN_FIRSTNAME=RWKV
AIRFLOW_ADMIN_LASTNAME=Ops
AIRFLOW_ADMIN_EMAIL=admin@example.local
